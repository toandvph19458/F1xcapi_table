<template>
    <div class="wrapper">
        <!--@@@ table header  -->
        <table-header />
        <div class="tabel__inner">
            <div class="table__price">
                <table class="table table-dark table-striped table-hover table-bordered">
                    <thead>
                        <tr>
                            <th>Mã HĐ</th>
                            <th>Tên HĐ</th>
                            <th class="text-right">OI</th>
                            <th class="text-right">KL</th>
                            <th class="text-center" colspan="2">CHÀO MUA</th>
                            <th class="text-center" colspan="3" style="background-color: #221A50 !important;">KHỚP LỆNH</th>
                            <th class="text-center" colspan="2">CHÀO BÁN</th>
                            <th class="text-center">Thanh toán</th>
                            <th class="text-center">Mở cửa</th>
                            <th class="text-center">Cao nhất</th>
                            <th class="text-center">Thấp nhất</th>
                            <th class="text-center">Ngày thông báo</th>
                        </tr>
                        <tr>
                            <th></th>
                            <th class="text-center"></th>
                            <th class="text-center"></th>
                            <th class="text-center"></th>
                            <th class="text-right">Giá</th>
                            <th class="text-right">KL</th>
                            <th class="text-right" style="background-color: #221A50 !important;">Giá</th>
                            <th class="text-right" style="background-color: #221A50 !important;">KL</th>
                            <th class="text-right" style="background-color: #221A50 !important;">+/-</th>
                            <th class="text-right">Giá</th>
                            <th class="text-right">KL</th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                            <th></th>
                        </tr>
                    </thead>
                    <tbody class="">
                        <tr>
                            <td colspan="16">DẦU ĐẬU TƯƠNG</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td colspan="16">DẦU ĐẬU TƯƠNG</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>
                        <tr>
                            <td class="hover__img">ZLEQ24* <div>
                                <img src="https://picsum.photos/200/200" alt="">
                            </div></td>
                            <td>Dầu đậu tương 10/24</td>
                            <td class="text-right text-success">71.01</td>
                            <td class="text-right text-success">+0.06%</td>
                            <td class="text-center text-success">Mua mạnh</td>
                            <td class="text-center text-danger">Bán mạnh</td>
                            <td class="text-center text-danger" style="background-color: #221A50 !important;">Bán</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success" style="background-color: #221A50 !important;">Mua mạnh</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                            <td class="text-center text-success">Mua</td>
                        </tr>

                    </tbody>
                </table>
            </div>
            <div class="chart__right">
                <!-- <Bar :data="chartData" :options="chartOptions"/> -->
                <Line :data="chartData" :options="chartOptions" />
                <Card/>
            </div>
        </div>
    </div>
</template>

<script lang="ts">
import { defineComponent, ref, watch } from "vue";
import TableHeader from "../../components/table-price/table-header.vue";
import { Line } from 'vue-chartjs'
import { Chart as ChartJS, Title, Tooltip, Legend, LineElement, PointElement, CategoryScale, LinearScale } from 'chart.js'
import Card from "../../components/table-price/card.vue";

ChartJS.register(Title, Tooltip, Legend, LineElement, PointElement, CategoryScale, LinearScale)
function getRandomData(length:number) {
    return Array.from({ length }, () => Math.floor(Math.random() * 100));
}
export default defineComponent({
    name: "tabel-2",
    components: {
        TableHeader,
        Line,
        Card
    },
   
    setup(props, ctx) { 
        const chartData = ref({
            labels: Array.from({ length: 15 }, (_, i) => (i + 1).toString()),
            datasets: [
                {
                    label: 'Nông sản ',
                    backgroundColor: 'rgba(66, 165, 245, 0.2)',
                    borderColor: '#42A5F5',
                    pointBackgroundColor: '#42A5F5',
                    pointRadius: 0, 
                    borderWidth: 2,
                    data: getRandomData(15),
                },
                {
                    label: 'Năng lượng',
                    backgroundColor: '#5575C2',
                    borderColor: '#5575C2',
                    pointBackgroundColor: '#5575C2',
                    pointRadius: 0, 
                    borderWidth: 2,
                    data: getRandomData(15)
                },
                {
                    label: 'Kim loại',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: '#FF6384',
                    pointBackgroundColor: '#FF6384',
                    pointRadius: 0, 
                    borderWidth: 2,
                    data: getRandomData(15)
                },
                {
                    label: 'Kim loại',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: '#FF6384',
                    pointBackgroundColor: '#FF6384',
                    pointRadius: 0, 
                    borderWidth: 2,
                    data: getRandomData(15)
                },
                {
                    label: 'Kim loại',
                    backgroundColor: 'rgba(255, 99, 132, 0.2)',
                    borderColor: '#FF6384',
                    pointBackgroundColor: '#FF6384',
                    pointRadius: 0, 
                    borderWidth: 2,
                    data: getRandomData(15)
                },
            ]
        });

        const chartOptions = ref<any>({
            responsive: true,
            scales: {
                x: {
                    beginAtZero: true,
                    grid: {
                        drawBorder: true,
                        color: function(context:any) {
                            const chart = context.chart;
                            const { ctx, chartArea } = chart;

                            if (!chartArea) {
                                return;
                            }

                            const gradient = ctx.createLinearGradient(chartArea.left, 0, chartArea.right, 0);
                            gradient.addColorStop(0, 'rgba(118, 108, 173, 0.00)');
                            gradient.addColorStop(0.5, 'rgba(118, 108, 173, 0.30)');
                            gradient.addColorStop(1, 'rgba(118, 108, 173, 0.00)');

                            return gradient;
                        }
                    }
                },
                y: {
                    beginAtZero: true,
                    grid: {
                        drawBorder: true,
                    }
                }
            },
            plugins: {
                legend: {
                    position: 'bottom',
                    labels: {
                        padding: 20,
                        usePointStyle: true,
                        pointStyle: 'circle'
                    }
                }
            }
        });
        return {
            chartData,
            chartOptions
        }
    },
});
</script>

<style scoped lang="scss">
.wrapper {
    background-color: #090618;

    .table> :not(caption)>*>* {
        background-color: #181336 !important;
    }

    .tabel__inner {
        max-width: 1760px;
        margin: 0 auto;
        display: flex;
        gap: 24px;
        table{
            width: 100%;
        }
        .chart__right{
            width: 30%;
        }
        .table-bordered {
                thead {
                    tr {
                        th {
                            border: 1px solid #1C163F;
                        }
                    }
                }

                tbody {
                    tr {
                        td {
                            border: 1px solid #1C163F;
                        }
                        .hover__img{
                            position: relative;
                            div{
                                display: none;
                                position: absolute;
                                left: 50px;
                                z-index: 1;
                            }
                            &:hover{
                                div{
                                    display: block;
                                }
                            }
                        }
                        
                    }
                }
            }

            .table__price .table-dark {
                background-color: #181336 !important;
                border-radius: 12px !important;
                margin-bottom: 0;
            }
            .table__price .table-dark.table-striped tbody tr:nth-of-type(odd) {
                background-color: #1c163f !important;
            }

            .table__price .table-dark.table-striped thead tr th {
                border-top: none;
                font-size: 12px;
                font-weight: 600;
                line-height: 16px;
            }

            .table__price .table-dark.table-striped tbody tr td {
                border-bottom: none;
            }

            .table__price .table-dark.table-striped tbody tr td {
                font-size: 12px;
                font-weight: 400;
                line-height: 16px;
            }

            .table__price .table-dark.table-striped thead tr th:first-child {
                border-left: none !important;
                border-radius: 12px 0;
            }

            .table__price .table-dark.table-striped tbody tr td:first-child {
                border-left: none !important;
            }

            .table__price .table-dark.table-striped thead tr th:last-child {
                border-right: none !important;
                border-radius: 0px 12px;
            }

            .table__price .table-dark.table-striped tbody tr td:last-child {
                border-right: none !important;
            }

            .table__price .table-dark .table-striped tbody tr:last-child>td:first-child {
                border-radius: 12px;
            }
    }
}
</style>
